

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Flappserver: The Foolscap Application Server &mdash; Foolscap v0.6.1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.6.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Foolscap v0.6.1 documentation" href="index.html" />
    <link rel="next" title="Foolscap Logging" href="logging.html" />
    <link rel="prev" title="Foolscap Failure Reporting" href="failures.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="logging.html" title="Foolscap Logging"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="failures.html" title="Foolscap Failure Reporting"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Foolscap v0.6.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="flappserver-the-foolscap-application-server">
<h1>Flappserver: The Foolscap Application Server<a class="headerlink" href="#flappserver-the-foolscap-application-server" title="Permalink to this headline">¶</a></h1>
<p>Foolscap provides an &#8220;app server&#8221;, to conveniently deploy small
applications that were written by others. It fulfills the same role as
&#8220;twistd&#8221; does for Twisted code: it allows sysadmins to configure and launch
services without obligating them to write Python code for each one.</p>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>This example creates a file-uploading service on one machine, and uses the
corresponding client on a different machine to transfer a file. There are
many different kinds of services that can be managed this way: file-uploading
is just one of them.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span><span class="c"># run this on the server machine</span>
<span class="go">S% flappserver create ~/fs</span>
<span class="go">Listening on 127.0.0.1:12345</span>
<span class="go">Foolscap Application Server created in ~/fs</span>
<span class="go">S% mkdir ~/incoming</span>
<span class="go">S% flappserver add ~/fs upload-file ~/incoming</span>
<span class="go">Service created, FURL is pb://kykr3p2hsippfgxqq2icrbrncee2f6ef@127.0.0.1:12345/47nvyzu6dj6apyrdl7alpe2xasmi52jt</span>
<span class="go">S% flappserver start ~/fs</span>
<span class="go">Server Started</span>
<span class="go">S%</span>

<span class="gp">#</span><span class="c"># run this on the client machine</span>
<span class="go">C% echo &quot;pb://kykr3p2hsippfgxqq2icrbrncee2f6ef@127.0.0.1:12345/47nvyzu6dj6apyrdl7alpe2xasmi52jt&quot; &gt;~/.upload.furl</span>
<span class="go">C% flappclient --furlfile ~/.upload.furl upload-file foo.jpg</span>
<span class="gp">#</span><span class="c"># that uploads the local file &quot;foo.jpg&quot; to the server</span>
<span class="go">C%</span>

<span class="gp">#</span><span class="c"># run this on the server machine</span>
<span class="go">S% ls ~/incoming</span>
<span class="go">foo.jpg</span>
<span class="go">S%</span>
</pre></div>
</div>
</div>
<div class="section" id="concepts">
<h2>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h2>
<p>&#8220;flappserver&#8221; is both the name of the Foolscap Application Server and the
name of the command used to create, configure, and launch it. Each server
creates a single foolscap Tub, which listens on one or more TCP ports, and is
configured with a &#8220;location hint string&#8221; that explains (to eventual clients)
how to contact the server. The server is given a working directory to store
persistent data, including the Tub&#8217;s private key.</p>
<p>Each flappserver hosts an arbitrary number of &#8220;services&#8221;. Each service
gets a distinct FURL (all sharing the same TubID and location). Each service
gets a private subdirectory which contains its configuration arguments and
any persistent state it wants to maintain.</p>
<p>When adding a service to a flappserver, you must specify the &#8220;service
type&#8221;. This indicates which kind of service you want to create. Any remaining
arguments on the &#8220;flappserver add&#8221; command line will be passed to the service
and can be used to configure its behavior. For each service that is added, a
new FURL is generated and returned to the user (so they can copy it to the
client system that wants to contact this service). The FURL can also be
retrieved later through the &#8220;flappserver list&#8221; command.</p>
<p>Nothing happens until the flappserver is started, with &#8220;flappserver
start&#8221;. This is simply a front-end for twistd, so it takes twistd arguments
like &#8211;nodaemon, &#8211;syslog, etc (use &#8220;twistd &#8211;help&#8221; for a complete list). The
server will run in the background as a standard unix daemon. &#8220;flappserver
stop&#8221; will shut down the daemon.</p>
</div>
<div class="section" id="services">
<h2>Services<a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h2>
<p>The app server has a list of known service types. You can add multiple
services of the same type to a single app server. This is analogous to
object-oriented programming: the service types are <strong>classes</strong> , and the
app server holds zero or more <strong>instances</strong> of each type (each of which is
probably configured slightly differently).</p>
<p>Service types are defined by plugins, each of which provides the code to
implement a named service.</p>
<p>The basic services that ship with Foolscap are:</p>
<ul class="simple">
<li><strong>upload-file</strong> : allow files to be written into a single directory
by the corresponding &#8220;flappclient upload-file&#8221; command. Files are streamed
to a neighboring temporary file before being atomically moved into place.
The client gets to choose the target filename. Optionally allow the
creation and use of subdirectories.</li>
<li><strong>run-command</strong> : allow a preconfigured shell command to be executed
by the corresponding &#8220;flappclient run-command&#8221; invocation. Client receives
stdout/stderr/rc. Command runs in a preconfigured working directory.
Optionally allow the client to provide stdin to the command. In a future
version: optionally provide locking around the command (allow only one
instance to run at a time), optionally merge multiple pending invocations,
optionally allow the client to provide arguments to the command.</li>
</ul>
</div>
<div class="section" id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="flappserver-create-basedir-options">
<h3><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">create</span> <span class="pre">BASEDIR</span> <span class="pre">[options]</span></tt><a class="headerlink" href="#flappserver-create-basedir-options" title="Permalink to this headline">¶</a></h3>
<p>Create a new server, using BASEDIR as a working directory. BASEDIR should
not already exist, and nothing else should touch its contents. BASEDIR will
be created with mode 0700, to prevent other users from reading it and
learning the private key.</p>
<p>&#8220;create&#8221; options:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">--port</span></tt> : strports description of the TCP port
to listen on</li>
<li><tt class="docutils literal"><span class="pre">--location</span></tt> : location hints to use in generated
FURLs. If not provided, the server will attempt to enumerate all network
interfaces and create a location hint string using each viable IP address
it finds. If you have configured an external NAT or port forwarding for
this server, you will need to set &#8211;location with the externally-visible
listening port.</li>
<li><tt class="docutils literal"><span class="pre">--umask</span></tt> : set the (octal) file-creation mask that the
server will use at runtime. When your services are invoked, any files they
create will have accesss-permissions (the file &#8220;mode&#8221;) controlled by this
value. <tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">create</span></tt> will copy your current umask and use
it in the server unless you override it with this option.
<tt class="docutils literal"><span class="pre">--umask=022</span></tt> is a good way to let those created files be
world-readable, and <tt class="docutils literal"><span class="pre">--umask=077</span></tt> is used to make them
non-world-redable.</li>
</ul>
</div>
<div class="section" id="flappserver-add-basedir-options-service-type-service-args">
<h3><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">add</span> <span class="pre">BASEDIR</span> <span class="pre">[options]</span> <span class="pre">SERVICE-TYPE</span> <span class="pre">SERVICE-ARGS</span></tt><a class="headerlink" href="#flappserver-add-basedir-options-service-type-service-args" title="Permalink to this headline">¶</a></h3>
<p>Add a new service to the existing server that lives in BASEDIR. The new
service will be of type SERVICE-TYPE (such as &#8220;upload-file&#8221; or
&#8220;run-command&#8221;), and will be configured with SERVICE-ARGS.</p>
<p>A new unguessable &#8220;swissnum&#8221; will be generated for the service, from which
a FURL will be computed. Clients must use this FURL to contact the service.
The FURL will be printed to stdout, where it can be copied and transferred to
client machines. It can also be viewed later using the &#8220;list&#8221; command.</p>
<p>The service instance will be created lazily, when a client actually
connects to the FURL. There will be only one instance per service, which will
last until the flappserver is terminated. (services are of course free to
create new per-request objects, which can last as long as necessary)</p>
<p>The &#8220;add&#8221; command takes certain options. Separately, each SERVICE-TYPE
will accept one or more SERVICE-ARGS, whose format depends upon the specific
type of service being created. The &#8220;add&#8221; command options must appear before
the SERVICE-TYPE parameter, while the SERVICE-ARGS always appear after the
SERVICE-TYPE parameter.</p>
<p>&#8220;add&#8221; options:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">--comment</span></tt> : short string explaining what this service is
used for, appears in the output of <tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">list</span></tt></li>
</ul>
</div>
<div class="section" id="flappserver-list-basedir">
<h3><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">list</span> <span class="pre">BASEDIR</span></tt><a class="headerlink" href="#flappserver-list-basedir" title="Permalink to this headline">¶</a></h3>
<p>List information about each service that has been configured in the given
flappserver. Each service is listed with the unguessable &#8220;swissnum&#8221;, followed
by the service-type and service-args, then any &#8211;comment that was given to
the add command, finishing with the access FURL:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> flappserver list ~/fs

<span class="go">47nvyzu6dj6apyrdl7alpe2xasmi52jt:</span>
<span class="go"> upload-file ~/incoming --allow-subdirectories</span>
<span class="go"> # --comment text appears here</span>
<span class="go"> pb://kykr3p2hsippfgxqq2icrbrncee2f6ef@127.0.0.1:12345/47nvyzu6dj6apyrdl7alpe2xasmi52jt</span>

<span class="go">jgdqovf3tfd5xog34bxmkqwd3dxgycak:</span>
<span class="go"> upload-file ~/repo/packages</span>
<span class="go"> pb://kykr3p2hsippfgxqq2icrbrncee2f6ef@127.0.0.1:12345/jgdqovf3tfd5xog34bxmkqwd3dxgycak</span>

<span class="go">22ngipsyp2smmgguemf5hu45prz4jeui:</span>
<span class="go"> run-command ~/repo make update-repository</span>
<span class="go"> pb://kykr3p2hsippfgxqq2icrbrncee2f6ef@127.0.0.1:12345/22ngipsyp2smmgguemf5hu45prz4jeui</span>

<span class="gp">%</span>
</pre></div>
</div>
<p>The &#8220;list&#8221; command takes no options.</p>
</div>
<div class="section" id="flappserver-start-basedir-twistd-options">
<h3><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">start</span> <span class="pre">BASEDIR</span> <span class="pre">[twistd</span> <span class="pre">options]</span></tt><a class="headerlink" href="#flappserver-start-basedir-twistd-options" title="Permalink to this headline">¶</a></h3>
<p>Launch (and usually daemonize) the server that lives in BASEDIR. This
command will return quickly, leaving the server running in the background.
Logs will be written to BASEDIR/twistd.log unless overridden.</p>
<p>The &#8220;start&#8221; command accepts the same options as twistd, so use``twistd &#8211;help`` to see the options that will be recognized.
&#8220;flappserver start BASEDIR&#8221; is equivalent to &#8220;cd BASEDIR &amp;&amp; twistd -y
<a href="#id1"><span class="problematic" id="id2">*</span></a>.tac [options]&#8221;.</p>
</div>
<div class="section" id="flappserver-stop-basedir">
<h3><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">stop</span> <span class="pre">BASEDIR</span></tt><a class="headerlink" href="#flappserver-stop-basedir" title="Permalink to this headline">¶</a></h3>
<p>Terminate the server that is running in BASEDIR. This is equivalent to &#8220;cd
BASEDIR &amp;&amp; kill <cite>cat twistd.pid</cite>&#8221;.</p>
<p>The &#8220;stop&#8221; command takes no options.</p>
</div>
<div class="section" id="flappserver-restart-basedir-twistd-options">
<h3><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">restart</span> <span class="pre">BASEDIR</span> <span class="pre">[twistd</span> <span class="pre">options]</span></tt><a class="headerlink" href="#flappserver-restart-basedir-twistd-options" title="Permalink to this headline">¶</a></h3>
<p>Terminate and restart the server that is running in BASEDIR. This is
equivalent to &#8220;flappserver stop BASEDIR &amp;&amp; flappserver start BASEDIR
[options]&#8221;.</p>
<p>The &#8220;restart&#8221; command takes the same twistd arguments as <strong>start</strong> .</p>
</div>
</div>
<div class="section" id="id3">
<h2>Services<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="upload-file-options-targetdir">
<h3><tt class="docutils literal"><span class="pre">upload-file</span> <span class="pre">[options]</span> <span class="pre">TARGETDIR</span></tt><a class="headerlink" href="#upload-file-options-targetdir" title="Permalink to this headline">¶</a></h3>
<p>This service accepts files from <tt class="docutils literal"><span class="pre">flappclient</span> <span class="pre">upload-file</span></tt> ,
placing them in TARGETDIR (which must already exist and be writable by the
flappserver). The filenames are chosen by the client. Existing files will be
overwritten. This service will never write client files above TARGETDIR, even
if the client attempts to use &#8221;..&#8221; or other pathname metacharacters (assuming
that a local user has not placed upwards-leading symlinks in TARGETDIR). It
will only write to subdirectories of TARGETDIR if the service was configured
with <tt class="docutils literal"><span class="pre">--allow-subdirectories</span></tt> , in which case the client controls
which subdirectory is used (and created if necessary).</p>
<p>The files will be created with the flappserver&#8217;s configured``&#8211;umask`` , typically captured when the server is first created. If
the server winds up with a restrictive umask like 077, then the files created
in TARGETDIR will not be readable by other users.</p>
<p>TODO: <tt class="docutils literal"><span class="pre">--allow-subdirectories</span></tt> is not yet implemented.</p>
<p>Example:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> flappserver create --listen 12345 --location example.com:12345 ~/fl
<span class="go">Foolscap Application Server created in /usr/home/warner/fl</span>
<span class="go">TubID u5bca3u2wklkyyv7wzjetmfltyqeb6kv, listening on port tcp:12345</span>
<span class="go">Now launch the daemon with &#39;flappserver start /usr/home/warner/fl&#39;</span>
<span class="gp">%</span> flappserver add ~/fl upload-file ~/incoming
<span class="go">Service added in /usr/home/warner/fl/services/vx3s2tb62ywct4pdgdicdpbxgz4ly7po</span>
<span class="go">FURL is pb://u5bca3u2wklkyyv7wzjetmfltyqeb6kv@example.com:12345/vx3s2tb62ywct4pdgdicdpbxgz4ly7po</span>
<span class="gp">%</span> flappserver start ~/fl
<span class="go">Launching Server...</span>
<span class="go">Server Running</span>
<span class="gp">%</span>
</pre></div>
</div>
</div>
<div class="section" id="run-command-options-targetdir-command">
<h3><tt class="docutils literal"><span class="pre">run-command</span> <span class="pre">[options]</span> <span class="pre">TARGETDIR</span> <span class="pre">COMMAND..</span></tt><a class="headerlink" href="#run-command-options-targetdir-command" title="Permalink to this headline">¶</a></h3>
<p>This service invokes a preconfigured command in response to requests from``flappclient run-command`` . The command is always run with
TARGETDIR as its current working directory.</p>
<p>COMMAND will be run with the flappserver&#8217;s configured``&#8211;umask`` , typically captured when the server is first created. If
the server winds up with a restrictive umask like 077, then when COMMAND is
run with that umask any files it creates will not be readable by other
users.</p>
<p>&#8220;run-command&#8221; options:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">--accept-stdin</span></tt> : if set, any data written to the client&#8217;s
stdin will be streamed to the stdin of COMMAND. When the client&#8217;s stdin is
closed, the COMMAND&#8217;s stdin will also be closed. If omitted, the client
will be instructed to not read from its stdin, and COMMAND will not receive
any stdin (the pipe will be left open, however).</li>
<li><tt class="docutils literal"><span class="pre">--no-stdin</span></tt> : [default] opposite of &#8211;accept-stdin.</li>
<li><tt class="docutils literal"><span class="pre">--send-stdout</span></tt> : [default] if set, any data written by
COMMAND to its stdout will be streamed to the client, which will deliver
the data to its own stdout pipe.</li>
<li><tt class="docutils literal"><span class="pre">--no-stdout</span></tt> : if set, any data written by COMMAND to its
stdout will be discarded, and not sent to the client.</li>
<li><tt class="docutils literal"><span class="pre">--send-stderr</span></tt> : [default] if set, any data written by
COMMAND to its stderr will be streamed to the client, which will deliver
the data to its own stderr pipe.</li>
<li><tt class="docutils literal"><span class="pre">--no-stderr</span></tt> : if set, any data written by COMMAND to its
stderr will be discarded, and not sent to the client.</li>
<li><tt class="docutils literal"><span class="pre">--log-stdin</span></tt> : if set, all incoming stdin data will be
written to the twistd.log</li>
<li><tt class="docutils literal"><span class="pre">--no-log-stdin</span></tt> : [default] do not log incoming stdin</li>
<li><tt class="docutils literal"><span class="pre">--log-stdout</span></tt> : if set, all outgoing stdout data will be
written to the twistd.log</li>
<li><tt class="docutils literal"><span class="pre">--no-log-stdout</span></tt> : [default] do not log outgoing stdout</li>
<li><tt class="docutils literal"><span class="pre">--log-stderr</span></tt> : [default] if set, all outgoing stderr data
will be written to the twistd.log</li>
<li><tt class="docutils literal"><span class="pre">--no-log-stderr</span></tt> : do not log outgoing stderr</li>
</ul>
<p>The numeric exit status of COMMAND will be delivered to the client, which
will exit with the same status. If COMMAND terminates with a signal, a
suitable non-zero exit status will be delivered (127).</p>
<p>Future options will allow the client to modify COMMAND (in tightly
controlled ways), and to wrap a semaphore around the invocation of COMMAND so
that overlapping requests do not cause overlapping invocations. Another
likely option is to coalesce multiple pending requests into a single
invocation.</p>
</div>
</div>
<div class="section" id="clients">
<h2>Clients<a class="headerlink" href="#clients" title="Permalink to this headline">¶</a></h2>
<p>To talk to the services described above, Foolscap comes with a simple
multipurpose client tool named <tt class="docutils literal"><span class="pre">flappclient</span></tt> . This tool always
takes a <tt class="docutils literal"><span class="pre">--furl=</span></tt> or <tt class="docutils literal"><span class="pre">--furlfile=</span></tt> argument to specify
the FURL of the target server.</p>
<p>For <tt class="docutils literal"><span class="pre">--furlfile=</span></tt> , the FURL should be stored in the given file.
The client will ignore blank lines and comment lines (those which begin with
&#8220;#&#8221;). It will use the first FURL it sees in the file, ignoring everything
beyond that point. It is a good practice to put a comment in your furlfiles
to remind you what the FURL points to and where you got it from:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">%</span> cat ~/upload.furl
<span class="gp">#</span> this FURL points to a file-uploader on ftp.example.com:~/incoming
<span class="go">pb://kykr3p2hsippfgxqq2icrbrncee2f6ef@127.0.0.1:12345/47nvyzu6dj6apyrdl7alpe2xasmi52jt</span>
<span class="gp">%</span>
<span class="gp">%</span> flappclient --furlfile ~/upload.furl upload-file foo.txt bar.txt
<span class="go">foo.txt: uploaded</span>
<span class="go">bar.txt: uploaded</span>
<span class="gp">%</span>
</pre></div>
</div>
<p>The &#8211;furlfile form is useful to keep the secret FURL out of a transcript
of the command being run, such as in a buildbot logfile. Naming your
furlfiles after their purpose is a good practice: the filename then behaves
like a &#8220;pet name&#8221;: a local identifier that hides the secure connection
information.</p>
<div class="section" id="flappclient-furl-furlfile-upload-file-sourcefiles">
<h3><tt class="docutils literal"><span class="pre">flappclient</span> <span class="pre">[--furl|--furlfile]</span> <span class="pre">upload-file</span> <span class="pre">SOURCEFILES..</span></tt><a class="headerlink" href="#flappclient-furl-furlfile-upload-file-sourcefiles" title="Permalink to this headline">¶</a></h3>
<p>This contacts a file-uploader service as created with <tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">add</span> <span class="pre">BASEDIR</span> <span class="pre">upload-file</span> <span class="pre">TARGETDIR</span></tt> and sends it one or more local
files.</p>
<p>The basename of each SOURCEFILE will be used to provide the remote
filename.</p>
<p>TODO (not yet implemented): If there is only one SOURCEFILE argument, then
the <tt class="docutils literal"><span class="pre">--target-filename=</span></tt> option can be used to override the remote
filename. If the server side has enabled subdirectories, then``&#8211;target-subdirectory=`` can be used to place the file in a
subdirectory of the server&#8217;s targetdir.</p>
</div>
<div class="section" id="flappclient-furl-furlfile-run-command">
<h3><tt class="docutils literal"><span class="pre">flappclient</span> <span class="pre">[--furl|--furlfile]</span> <span class="pre">run-command</span></tt><a class="headerlink" href="#flappclient-furl-furlfile-run-command" title="Permalink to this headline">¶</a></h3>
<p>This contacts a command-executing service as created with``flappserver add BASEDIR run-command TARGETDIR COMMAND`` and asks
it to invoke the preconfigured command.</p>
<p>If the server was configured with <tt class="docutils literal"><span class="pre">--accept-stdin</span></tt> , the client
will read from stdin until it is closed, continuously sending data to the
server, then closing the server&#8217;s stdin pipe (this is useful for commands
like &#8216;grep&#8217; which read from stdin). If not, the client will ignore its
stdin.</p>
<p>By default, the client will write to its stdout and stderr as data arrives
from the server (however the server can be configured to not send stdout or
stderr). Once the server&#8217;s process exits, the client will exit with the same
exit code.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Flappserver: The Foolscap Application Server</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#concepts">Concepts</a></li>
<li><a class="reference internal" href="#services">Services</a></li>
<li><a class="reference internal" href="#commands">Commands</a><ul>
<li><a class="reference internal" href="#flappserver-create-basedir-options"><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">create</span> <span class="pre">BASEDIR</span> <span class="pre">[options]</span></tt></a></li>
<li><a class="reference internal" href="#flappserver-add-basedir-options-service-type-service-args"><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">add</span> <span class="pre">BASEDIR</span> <span class="pre">[options]</span> <span class="pre">SERVICE-TYPE</span> <span class="pre">SERVICE-ARGS</span></tt></a></li>
<li><a class="reference internal" href="#flappserver-list-basedir"><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">list</span> <span class="pre">BASEDIR</span></tt></a></li>
<li><a class="reference internal" href="#flappserver-start-basedir-twistd-options"><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">start</span> <span class="pre">BASEDIR</span> <span class="pre">[twistd</span> <span class="pre">options]</span></tt></a></li>
<li><a class="reference internal" href="#flappserver-stop-basedir"><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">stop</span> <span class="pre">BASEDIR</span></tt></a></li>
<li><a class="reference internal" href="#flappserver-restart-basedir-twistd-options"><tt class="docutils literal"><span class="pre">flappserver</span> <span class="pre">restart</span> <span class="pre">BASEDIR</span> <span class="pre">[twistd</span> <span class="pre">options]</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">Services</a><ul>
<li><a class="reference internal" href="#upload-file-options-targetdir"><tt class="docutils literal"><span class="pre">upload-file</span> <span class="pre">[options]</span> <span class="pre">TARGETDIR</span></tt></a></li>
<li><a class="reference internal" href="#run-command-options-targetdir-command"><tt class="docutils literal"><span class="pre">run-command</span> <span class="pre">[options]</span> <span class="pre">TARGETDIR</span> <span class="pre">COMMAND..</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clients">Clients</a><ul>
<li><a class="reference internal" href="#flappclient-furl-furlfile-upload-file-sourcefiles"><tt class="docutils literal"><span class="pre">flappclient</span> <span class="pre">[--furl|--furlfile]</span> <span class="pre">upload-file</span> <span class="pre">SOURCEFILES..</span></tt></a></li>
<li><a class="reference internal" href="#flappclient-furl-furlfile-run-command"><tt class="docutils literal"><span class="pre">flappclient</span> <span class="pre">[--furl|--furlfile]</span> <span class="pre">run-command</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="failures.html"
                        title="previous chapter">Foolscap Failure Reporting</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="logging.html"
                        title="next chapter">Foolscap Logging</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/flappserver.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="logging.html" title="Foolscap Logging"
             >next</a> |</li>
        <li class="right" >
          <a href="failures.html" title="Foolscap Failure Reporting"
             >previous</a> |</li>
        <li><a href="index.html">Foolscap v0.6.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Brian Warner.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>